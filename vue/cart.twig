<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <br>
        <div class="progress" role="progressbar"  aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
  <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 25%">25%</div>
</div>
        <h2 style="text-align:center"> Votre panier   </h2><br>
            {% if cart is not empty %}     
                <tbody>
                <div class="biscuit-container">
                    {% for item in cart|sort %}
                        <div class="introduction">
                                <div class="card" style="width: 18rem;">
                                    <img src={{lien[item[0].id]}}  alt="Image" >
                                    <div class="card-body">
                                        <a href="controleur.php?action=detail&id={{item[0].id}}">{{ item[0].name }}</a><br><br>
                                        <div class="enBasCard">
                                        <div class="d-flex align-items gap-5">
                                        <p> Quantité :  <!-- symbole - -->
                                                        <a href="controleur.php?action=removeQuantity&id={{item[0].id}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle-fill" viewBox="0 0 16 16">
                                                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1z"/>
                                                        </svg></a>
                                                        {{quantite[item[0].id]}} 
                                                        <!-- symbole + -->
                                                        <a href="controleur.php?action=addQuantity&id={{item[0].id}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                                                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"/>
                                                        </svg></a>  
                                        </p>
                                        <p>{{ sousTotal[item[0].id] }} €</p>
                                        </div>
                                        </div>
                                        <a href="controleur.php?action=deleteFromCart&id={{item[0].id}}"><img src="productimages/trash.png" class="trash"></a></td>
                                    </div>
                                </div>
                        </div>

                    {% endfor %}
                </div>    
                </tbody>

            {% else %}
            Votre panier est tristement vide 
            {% endif %}
        <div class="acheter">
        <p> Total : {{total}} €</p>
        <a href="controleur.php?action=buy"><button class="btn btn-primary" >Acheter </button></a>
        </div>
        <p class="errors">{{message}}</p>
    </body>
</html>





<style>
.errors{
        color:red;
    }

/* for nav bar*/
.inline{
    display: inline-block;
    width:2000px;
    
}
.separate{
    margin-left:20px;
}
a {  color: deeppink; text-decoration: none; }

header {
    background-color:pink;
    
    padding: 30px 0;
}
h1 { color: #F90B6D; font-family: " Great Vibes, cursive" ; font-size: 50px; font-weight: 400; line-height: 40px; margin-left : 30px; margin-right : 70px; }

.logo{
    width:100px;
    height:100px;
}

/* end*/



.acheter{
  margin-left:90%;
  margin-bottom:20px;
   
}

.trash{
    width:20px;
    height:20px;
    position: absolute;
    top: 10px; 
    right: 10px; 
}

.introduction {
    flex: 0 0 calc(25% - 20px);
    height: 100vh;
    position: relative;
    overflow: hidden;
    background-color: #fff; 
    color: #333; 
    margin-bottom:20px;
    margin-left:12px;
    margin-top:20px;
    
}

h2 {  color: #d54d7b; font-family: "Great Vibes", cursive; font-size: 50px; line-height: 40px; font-weight: normal; margin-top: 30px; text-align: center; text-shadow: 0 1px 1px #fff; }
p{ font-size:15px}

.biscuit-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        gap: 10px;
    }

.card-text {
        line-height: 1.5;
        text-align: left;
        
    }

.card-title{
    font-family: " Great Vibes, cursive";
    text-decoration: underline;
    text-decoration-thickness: 2px;
    font-size:30px;
    text-align:center;
}

.card {
        width: 18rem;
        display: flex;
        flex-direction: column;
        height: 60%;
        
    }

.enBasCard{
    position: absolute;
    bottom: 10px; 
    margin-left:20px;

}    

</style>